version: "3.6"

services:
  main:
    image: r15ch13/excavator:latest
    deploy:
      mode: global
    volumes:
      - ssh:/root/.ssh
      - main-logs:/root/log
    environment:
      GIT_USERNAME: "Richard Kuhnt"
      GIT_EMAIL: "r15ch13+git@gmail.com"
      SNOWFLAKES: "curl,openssl,brotli"
      BUCKET: "lukesampson/scoop"
      CRONTAB: "0 * * * *"
  extras:
    image: r15ch13/excavator:latest
    deploy:
      mode: global
    volumes:
      - ssh:/root/.ssh
      - extras-logs:/root/log
    environment:
      GIT_USERNAME: "Richard Kuhnt"
      GIT_EMAIL: "r15ch13+git@gmail.com"
      SNOWFLAKES:
      BUCKET: "lukesampson/scoop-extras"
      CRONTAB: "0 * * * *"
  versions:
    image: r15ch13/excavator:latest
    deploy:
      mode: global
    volumes:
      - ssh:/root/.ssh
      - versions-logs:/root/log
    environment:
      GIT_USERNAME: "Richard Kuhnt"
      GIT_EMAIL: "r15ch13+git@gmail.com"
      SNOWFLAKES:
      BUCKET: "scoopinstaller/versions"
      CRONTAB: "0 0 * * *"
  php:
    image: r15ch13/excavator:latest
    deploy:
      mode: global
    volumes:
      - ssh:/root/.ssh
      - php-logs:/root/log
    environment:
      GIT_USERNAME: "Richard Kuhnt"
      GIT_EMAIL: "r15ch13+git@gmail.com"
      SNOWFLAKES:
      BUCKET: "scoopinstaller/php"
      CRONTAB: "0 0 * * *"
  games:
    image: r15ch13/excavator:latest
    deploy:
      mode: global
    volumes:
      - ssh:/root/.ssh
      - games-logs:/root/log
    environment:
      GIT_USERNAME: "Richard Kuhnt"
      GIT_EMAIL: "r15ch13+git@gmail.com"
      SNOWFLAKES:
      BUCKET: "Calinou/scoop-games"
      CRONTAB: "0 0 * * *"
volumes:
  ssh:
  main-logs:
  extras-logs:
  versions-logs:
  php-logs:
